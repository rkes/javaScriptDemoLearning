<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>jsTree test</title>
  <!-- 2 load the theme CSS file -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
</head>
<body>
  <!-- 3 setup a container element -->
  <div id="jstree">
    <!-- in this example the tree is populated from inline HTML -->
    <ul>
      <li>Root node 1
        <ul>
          <li id="child_node_1">Child node 1</li>
          <li>Child node 2</li>
        </ul>
      </li>
      <li>Root node 2</li>
    </ul>
  </div>
  <button>demo button</button>

  <!-- 4 include the jQuery library -->
  <script src="dist/libs/jquery.js"></script>
  <!-- 5 include the minified jstree source -->
  <script src="dist/jstree.min.js"></script>
  <script>
  function jsTreeData(){
	this.id="";
	this.text="";
	this.state={};
	this.children=new Array();
  }
  
  function getData(){
	var locationOfferMap={};
	
	locationOfferMap["loc1"]=["a1","a2","a3"];
	locationOfferMap["loc2"]=["b1","b2","b3"];
	locationOfferMap["loc3"]=["c1","c2","c3"];
	locationOfferMap["loc4"]=["d1","d2","d3"];
	
	var locationArray=Object.keys(locationOfferMap);
	
	var jsTreeArray=new Array();
	
	for(var i=0;i<locationArray.length;i++){
		
		var parentTreeNode=new jsTreeData();

		parentTreeNode.id=locationArray[i];
		parentTreeNode.text=locationArray[i];
		parentTreeNode.children=locationOfferMap[locationArray[i]];
		parentTreeNode.state = {
           'opened' : true,
        };
		
		jsTreeArray.push(parentTreeNode);
	}
	return jsTreeArray;
  }
  
  $(function () {
    var tree=$('#jstree').jstree(
		{ 
		"types" : {
			  "default" : {
				"icon" : "glyphicon glyphicon-flash"
			  },
			  "demo" : {
				"icon" : "glyphicon glyphicon-ok"
			  }
			},
			
		"plugins" : [ "types" ],
  
		'core' : 
			{
				 'data' : getData()
			}
	}
	);
	});
    
  </script>
</body>
</html>
 
